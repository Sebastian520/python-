# 4.1.7 数轴转置和换轴

返回底层数据的视图而不需要复制任何内容.数组拥有transpose方法，也有特殊的T属性


```python
import numpy as np
arr = np.arange(15).reshape((3, 5))
arr
```




    array([[ 0,  1,  2,  3,  4],
           [ 5,  6,  7,  8,  9],
           [10, 11, 12, 13, 14]])




```python
arr.T
```




    array([[ 0,  5, 10],
           [ 1,  6, 11],
           [ 2,  7, 12],
           [ 3,  8, 13],
           [ 4,  9, 14]])



计算矩阵内积:内积是行向量乘以列向量


```python
arr = np.random.randn(6, 3)
arr
```




    array([[-0.05602459,  0.23948855,  1.57072048],
           [-1.3202755 , -1.25035472,  1.55757751],
           [-0.81313936, -0.1247559 , -0.08269032],
           [-1.86438218,  0.19121112, -0.22658405],
           [-0.80744534, -1.27101964, -0.17952982],
           [-0.53738171, -1.21506683, -1.3242258 ]])




```python
np.dot(arr.T, arr)
```




    array([[ 6.82412979,  3.06158236, -0.79817714],
           [ 3.06158236,  4.76474573,  0.23284467],
           [-0.79817714,  0.23284467,  6.73719347]])



对于更高维度的数组，transpose方法可以接收包含轴编号的元组，用于置换轴


```python
arr = np.arange(16).reshape((2, 2, 4))
arr
```




    array([[[ 0,  1,  2,  3],
            [ 4,  5,  6,  7]],
    
           [[ 8,  9, 10, 11],
            [12, 13, 14, 15]]])




```python
arr.transpose() #2个2*4变成2个4*2
```




    array([[[ 0,  8],
            [ 4, 12]],
    
           [[ 1,  9],
            [ 5, 13]],
    
           [[ 2, 10],
            [ 6, 14]],
    
           [[ 3, 11],
            [ 7, 15]]])




```python
arr.transpose((1, 0, 2)) #轴被重新排序，第二个轴变为第一个，第一个变成第二个，最后一个没变
```




    array([[[ 0,  1,  2,  3],
            [ 8,  9, 10, 11]],
    
           [[ 4,  5,  6,  7],
            [12, 13, 14, 15]]])



ndarray有一个swapaxes方法，接收一对称编号作为参数，并对轴进行调整用于重组数据


```python
arr
```




    array([[[ 0,  1,  2,  3],
            [ 4,  5,  6,  7]],
    
           [[ 8,  9, 10, 11],
            [12, 13, 14, 15]]])




```python
arr.swapaxes(1, 0)
```




    array([[[ 0,  1,  2,  3],
            [ 8,  9, 10, 11]],
    
           [[ 4,  5,  6,  7],
            [12, 13, 14, 15]]])


